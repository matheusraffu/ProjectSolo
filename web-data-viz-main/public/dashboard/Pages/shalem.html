<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../../img/c0fde4c0-4e08-465d-997c-a31cc020fc90.png" type="image/x-icon">
    <link rel="shortcut icon" href="../assets/icon/favicon2.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agape | Lifes</title>
    <link rel="stylesheet" href="./../../css/dashboards.css">
    <script src="../js/sessao.js"></script>
    <script src="../js/alerta.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
</head>

<body onload="MediaIdade()" onload="ReceberDadosEventos()">

    <div class="janela">



        <!-- Barra Lateral -->
        <div class="sidebar">
            <h2>Life Group</h2>
            <div class="header-text">
                Olá membro da Agape
            </div>
            <ul>
                <li><a href="../LocateDashboards.html"><i class="fas fa-home"></i> Início</a></li>
                <li><a href="../../index.html" onclick="limparSessao()"><i
                            class="fas fa-sign-out-alt"></i> Sair</a></li>
            </ul>
        </div>
        <li><a href="#home"><i class="fas fa-home"></i> Início</a></li>
        <li><a href="#logout"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
        </ul>
    </div>

    </div>

    <a href="../LocateDashboards.html" class="exit">
        <img src="../../../../img (2)/icons8-u-turn-to-left-24.png" alt="">
    </a>

    <img class="fotospages"
        src="../../../../img (2)/Inserir um título (500 x 900 px) (900 x 500 px) (500 x 900 px) (900 x 500 px) (1).png"
        alt="">



    </div>
    <div class="loc">
        <h1> Shalém </h1>
    </div>

    <div class="container-cards">
        <div class="cards-liders">
            <p>Matias e Barbara</p>
        </div>
        <div class="cards-liders">
            <p>Sabádo</p>
        </div>
        <div class="cards-liders">
            <p>17:00</p>
        </div>
    </div>
    <br>

    <div class="container-implacaveis">
        <div class="text-implacaveis"></div>
        <p>
            Essa palavra é usada para descrever algo ou alguém que está inteiro, completo, sem defeito ou falha. Na
            Bíblia hebraica, "shalém" é frequentemente usado para descrever um estado de paz, integridade e plenitude.


            Venha conhecer nosso Life Group Shálem, você será muito bem-vindo(a)!!

            Somos um grupo de jovens que amam Jesus, aprender mais sobre a bíblia e estar com pessoas.</p>
    </div>

    <div class="container-cards2">
        <div class="container-qrcode">
            <h1>QR CODE</h1>
            <img src="../../../../img (2)/websiteQRCode_noFrame.png" alt="QR Code">
        </div>

        <div class="visit-lifegroup">
            <h1>Quer visitar este Life Group?</h1>
            <p>Se você deseja saber mais ou agendar uma visita, clique no botão abaixo:</p>
            <div class="LLLL">
                <a href="mailto:bergamog9@gmail.com">
                    <img src="../../../../img (2)/icons8-mail-40.png" alt="Email">
                </a>
                <a
                    href="https://api.whatsapp.com/send/?phone=11959818874&text=Olá+%2AGiulia+Bergamo%2A%21%21+Gostaria+de+visitar+o+life+%2AShalém%2A+que+está+disponível++nesse+link%3A+https%3A%2F%2Flifegroups.pazchurchsp.com.br%2Fpets%2Fshalem%2F%0A%0AFico+no+Aguardo%21&type=phone_number&app_absent=0">
                    <img src="../../../../img (2)/icons8-whatsapp-40.png" alt="WhatsApp">
                </a>
            </div>
        </div>


    </div>




    <div class="mapa">
        <div class="cards-Localizacao">
            <h2>Localização</h2>
        </div>
        <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3658.0155372151034!2d-46.49325898835619!3d-23.531943578731678!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94ce60cc26a5e8a7%3A0x6dee9a8a19fa44c2!2sR.%20J%C3%BAlio%20Sayago%20-%20Vila%20R%C3%A9%2C%20S%C3%A3o%20Paulo%20-%20SP%2C%2003669-010!5e0!3m2!1spt-BR!2sbr!4v1732597870278!5m2!1spt-BR!2sbr"
            width="400" height="250" style="border:0;" allowfullscreen="" loading="lazy" margin=10px;
            referrerpolicy="no-referrer-when-downgrade">
        </iframe>
    </div>


    <div>
        <div class="container-cards3">
            <div class="container-QuantidadePessoas">
                <h2>Quantidade Pessoas</h1>
                    <div class="dentro" id="join" style="font-size: 60px;"> 27 Pessoas</div>
            </div>
            <div class="media-idade">
                <h2>Media de Idade</h1>
                    <div class="dentro" id="join" style="font-size: 60px;"> 23 Anos</div>
            </div>
        
        </div>
        <img style="margin-left: 310px; width: 1000px; height: 400px;" src="../../img (2)/Design sem nome (15).png" alt="">

    </div>

    <!DOCTYPE html>
    <html lang="pt">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=200px, initial-scale=1.0">
        <title>Gráfico Dinâmico com Chart.js</title>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <body>
        <canvas id="eventoChart" width="200px" height="50px"></canvas>
        <script src="chart-script.js"></script>
    </body>
    </html>


</body>

</html>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Obtém dados do sessionStorage
    const dataEvento = sessionStorage.getItem('DATA_EVENTO_EVENTO');
    const qtdPessoas = sessionStorage.getItem('QTD_PESSOAS_EVENTO');

    // Verifica se os dados existem
    if (dataEvento && qtdPessoas) {
        const ctx = document.getElementById('eventoChart').getContext('2d');

        // Converte os dados para o formato de gráfico
        const dadosGrafico = {
            labels: [dataEvento],
            datasets: [{
                label: 'Quantidade de Pessoas',
                data: [parseInt(qtdPessoas)],
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
            }]
        };

        // Cria o gráfico com Chart.js
        const config = {
            type: 'bar',  // Tipo de gráfico
            data: dadosGrafico,  // Dados do gráfico
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,  // Inicia o gráfico no valor 0
                    },
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Graficos Médias',  // Título do gráfico
                        color: '#FFFFFF',  // Cor do título
                        font: {
                            size: 20,  // Tamanho da fonte do título
                        },
                    },
                    legend: {
                        display: true,
                        labels: {
                            color: 'black',  // Cor das legendas
                        },
                    },
                },
            },
        };

        // Criando o gráfico
        new Chart(ctx, config);

    } else {
        console.log('Dados não encontrados no sessionStorage.');
    }
});

    

function ReceberDadosEventos() {
    var idLifeGroup = 'd';

    fetch("/usuarios/ReceberDadosEventos", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON. stringify({
            idLifeGroupServer: idLifeGroup
        })
    })
    .then(function (resposta) {
        // Converte a resposta para JSON
        return resposta.json();  // Adicionei o retorno da conversão aqui
    })
    .then(json => {
        // Quando a resposta for recebida, armazena os valores no sessionStorage
        sessionStorage.DATA_EVENTO_EVENTO = json.data_evento;
        sessionStorage.QTD_PESSOAS_EVENTO = json.qtd_pessoas;
        sessionStorage.ID_EVENTO_EVENTO = json.id_evento;

        // Exemplo: Logando os dados para verificar se estão corretos
        console.log("Data do Evento:", json.data_evento);
        console.log("Quantidade de Pessoas:", json.qtd_pessoas);
        console.log("ID do Evento:", json.id_evento);
    })
    .catch(error => {
        // Caso ocorra algum erro durante o fetch
        console.error("Erro ao fazer a requisição:", error);
    });
}

function MediaIdade() {
    var idLifeGroup = 'd';

    fetch("/usuarios/MediaIdade", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            idLifeGroupServer: idLifeGroup
        })
    })
    .then(function (resposta) {
        // Converte a resposta para JSON
        return resposta.json();  // Adicionei o retorno da conversão aqui
    })
    .then(json => {
        // Quando a resposta for recebida, armazena os valores no sessionStorage
        sessionStorage.MediaIdade = json.mediadeIdade;

        // Exemplo: Logando os dados para verificar se estão corretos
        console.log("Media idade:", json.mediaIdade);
    })
    .catch(error => {
        // Caso ocorra algum erro durante o fetch
        console.error("Erro ao fazer a requisição:", error);
    });
}
Quantidade.innerHTML = `${sessionStorage.QTD_PESSOAS_EVENTO}`

</script>